function topMsg(e,t,o){if(o||(o="#D6E5F7"),e){clearTimeout(window.topMsgTimer);var n=ge("system_msg");n.style.backgroundColor=o,n.innerHTML=e,show(n),t&&(window.topMsgTimer=setTimeout(topMsg.pbind(!1),1e3*t))}else hide("system_msg")}function topError(e,t){if(e.message){var o=e;e="<b>JavaScript error:</b> "+o.message,o.stack&&__debugMode&&(e+="<br/>"+o.stack.replace(/\n/g,"<br/>"))}topMsg(e,t,"#FFB4A3")}function langNumeric(e,t,o){if(!t||!window.langConfig)return e;var n;if(isArray(t)?(n=t[1],e!=Math.floor(e)?n=t[langConfig.numRules["float"]]:each(langConfig.numRules["int"],function(o,i){if("*"==i[0])return n=t[i[2]],!1;var a=i[0]?e%i[0]:e;return indexOf(i[1],a)!=-1?(n=t[i[2]],!1):void 0})):result=t,o){for(var i=e.toString().split("."),a=[],r=i[0].length-3;r>-3;r-=3)a.unshift(i[0].slice(r>0?r:0,r+3));i[0]=a.join(langConfig.numDel),e=i.join(langConfig.numDec)}return n=(n||"%s").replace("%s",e)}function langSex(e,t){if(!isArray(t))return t;var o=t[1];return window.langConfig?(each(langConfig.sexRules,function(n,i){return"*"==i[0]?(o=t[i[1]],!1):e==i[0]&&t[i[1]]?(o=t[i[1]],!1):void 0}),o):o}function getLang(){try{var e=Array.prototype.slice.call(arguments),t=e.shift();if(!t)return"...";var o=window.cur.lang&&window.cur.lang[t]||window.lang&&window.lang[t]||window.langpack&&window.langpack[t]||window[t];if(!o){var n=t.split("_");return n.shift(),n.join(" ")}return isFunction(o)?o.apply(null,e):isArray(o)?langNumeric(e[0],o,e[1]):o}catch(i){debugLog("lang error:"+i.message+"("+Array.prototype.slice.call(arguments).join(", ")+")")}}function debugLog(e){try{var t="["+((new Date).getTime()-_logTimer)/1e3+"] ";ge("debuglog")&&(null===e?e="[NULL]":void 0===e&&(e="[UNDEFINED]"),ge("debuglog").innerHTML+=t+e.toString().replace("<","&lt;").replace(">","&gt;")+"<br/>"),window.console&&console.log&&(Array.prototype.unshift.call(arguments,t),console.log.apply(console,arguments))}catch(o){}}function ge(e){return"string"==typeof e||"number"==typeof e?document.getElementById(e):e}function geByTag(e,t){return(t||document).getElementsByTagName(e)}function geByTag1(e,t){return t=t||document,t.querySelector&&t.querySelector(e)||geByTag(e,t)[0]}function geByClass(e,t,o){t=t||document,o=o||"*";var n=[];if(t.querySelectorAll&&"*"!=o)return t.querySelectorAll(o+"."+e);if(t.getElementsByClassName){var i=t.getElementsByClassName(e);if("*"!=o){o=o.toUpperCase();for(var a=0,r=i.length;a<r;++a)i[a].tagName.toUpperCase()==o&&n.push(i[a])}else n=Array.prototype.slice.call(i);return n}for(var s=geByTag(o,t),l=new RegExp("(^|\\s)"+e+"(\\s|$)"),a=0,r=s.length;a<r;++a)l.test(s[a].className)&&n.push(s[a]);return n}function geByClass1(e,t,o){return t=t||document,o=o||"*",t.querySelector&&t.querySelector(o+"."+e)||geByClass(e,t,o)[0]}function ce(e,t,o){var n=document.createElement(e);return t&&extend(n,t),o&&setStyle(n,o),n}function re(e){return e=ge(e),e&&e.parentNode&&e.parentNode.removeChild(e),e}function se(e){return ce("div",{innerHTML:e}).firstChild}function rs(e,t){return each(t,function(t,o){e=e.replace(new RegExp("%"+t+"%","g"),o)}),e}function psr(e){return"https:"!=locProtocol?e:(e=e.replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\/([a-z0-9\/_:]+\.jpg)/gi,"https://pp.vk.me/c$1/$3"),e=e.replace(/http:\/\/cs(\d+)\.(userapi\.com|vk\.com|vk\.me|vkontakte\.ru)\//gi,"https://ps.vk.me/c$1/"),e=e.replace(/http:\/\/video(\d+)\.vkadre\.ru\//gi,"https://ps.vk.me/v$1/"))}function domEL(e,t){for(t=t?"previousSibling":"nextSibling";e&&!e.tagName;)e=e[t];return e}function domNS(e){return domEL((e||{}).nextSibling)}function domPS(e){return domEL((e||{}).previousSibling,1)}function domFC(e){return domEL((e||{}).firstChild)}function domLC(e){return domEL((e||{}).lastChild,1)}function domPN(e){return(e||{}).parentNode}function show(e){if(arguments.length>1)for(var t=0;t<arguments.length;++t)show(arguments[t]);else if(e=ge(e),e&&e.style){var o=e.olddisplay,n="block",i=e.tagName.toLowerCase();e.style.display=o||"","none"==getStyle(e,"display")&&(n=hasClass(e,"inline")?"inline":"tr"!=i||browser.msie?"table"!=i||browser.msie?"block":"table":"table-row",e.style.display=e.olddisplay=n)}}function hide(e){if(arguments.length>1)for(var t=0;t<arguments.length;t++)hide(arguments[t]);else if(e=ge(e),e&&e.style){var o=getStyle(e,"display");e.olddisplay="none"!=o?o:"",e.style.display="none"}}function isVisible(e){return e=ge(e),!(!e||!e.style)&&"none"!=getStyle(e,"display")}function toggle(e,t){void 0===t&&(t=!isVisible(e)),t?show(e):hide(e)}function toggleFlash(e,t){if(clearTimeout(hfTimeout),t>0)return void(hfTimeout=setTimeout(function(){toggleFlash(e,0)},t));var o=e?"visible":"hidden";triggerEvent(document,e?"unblock":"block");var n=function(){this.getAttribute("preventhide")||("app_container"==this.id&&browser.msie?e?setStyle(this,{position:"static",top:0}):setStyle(this,{position:"absolute",top:"-5000px"}):this.style.visibility=o)};each(geByTag("embed"),n),each(geByTag("object"),n)}function getXY(e,t){if(e&&void 0!=e){var o,n,i=0,a=0;if(e.offsetParent)do i+=n=e.offsetLeft,a+=e.offsetTop,o=getStyle(e,"position"),"fixed"!=o&&"absolute"!=o&&"relative"!=o||(i-=e.scrollLeft,a-=e.scrollTop,"fixed"!=o||t||(i+=(e.offsetParent||{}).scrollLeft||bodyNode.scrollLeft||htmlNode.scrollLeft,a+=(e.offsetParent||{}).scrollTop||bodyNode.scrollTop||htmlNode.scrollTop));while(e=e.offsetParent);return t&&browser.msie&&intval(browser.version)<9&&n&&(i+=ge("page_layout").offsetLeft),[i,a]}}function getSize(e,t){function o(){if(n=[e.offsetWidth,e.offsetHeight],t){each(n,function(t,o){var i=t?["Top","Bottom"]:["Left","Right"];each(i,function(){n[t]-=parseFloat(getStyle(e,"padding"+this))||0,n[t]-=parseFloat(getStyle(e,"border"+this+"Width"))||0})}),n=[Math.round(n[0]),Math.round(n[1])]}}e=ge(e);var n=[0,0],i=document.documentElement;if(e==document)n=[Math.max(i.clientWidth,bodyNode.scrollWidth,i.scrollWidth,bodyNode.offsetWidth,i.offsetWidth),Math.max(i.clientHeight,bodyNode.scrollHeight,i.scrollHeight,bodyNode.offsetHeight,i.offsetHeight)];else if(e)if(isVisible(e))o();else{var a={position:"absolute",visibility:"hidden",display:"block"},r={};each(a,function(t,o){r[t]=e.style[t],e.style[t]=o}),o(),each(a,function(t,o){e.style[t]=r[t]})}return n}function rand(e,t){return Math.random()*(t-e+1)+e}function irand(e,t){return Math.floor(rand(e,t))}function isFunction(e){return"[object Function]"===Object.prototype.toString.call(e)}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isObject(e){return"[object Object]"===Object.prototype.toString.call(e)}function isEmpty(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function vkNow(){return+new Date}function vkImage(){return window.Image?new Image:ce("img")}function trim(e){return(e||"").replace(/^\s+|\s+$/g,"")}function stripHTML(e){return e?e.replace(/<(?:.|\s)*?>/g,""):""}function escapeRE(e){return e?e.replace(/[.*+?^${}()|[\]\/\\]/g,"\\$0"):""}function intval(e){return e===!0?1:parseInt(e)||0}function floatval(e){return e===!0?1:parseFloat(e)||0}function positive(e){return e=intval(e),e<0?0:e}function winToUtf(e){var t,o,n;t=e.match(/&#[0-9]{2}[0-9]*;/gi);for(o in t){var i=""+t[o];n=intval(i.substr(2,i.length-3)),n>=32&&"&#"+n+";"==i&&(e=e.replace(i,String.fromCharCode(n)))}return e=e.replace(/&quot;/gi,'"').replace(/&amp;/gi,"&").replace(/&lt;/gi,"<").replace(/&gt;/gi,">")}function replaceEntities(e){return e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),ce("div",{innerHTML:"<textarea>"+e+"</textarea>"}).firstChild.value}function clean(e){return e?(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}function unclean(e){return replaceEntities(e.replace(/\t/g,"\n"))}function each(e,t){var o,n=0,i=e.length;if(void 0===i){for(o in e)if(t.call(e[o],o,e[o])===!1)break}else for(var a=e[0];n<i&&t.call(a,n,a)!==!1;a=e[++n]);return e}function indexOf(e,t,o){for(var n=o||0;n<e.length;n++)if(e[n]==t)return n;return-1}function inArray(e,t){return indexOf(t,e)!=-1}function clone(e){var t=isArray(e)?[]:{};for(var o in e)t[o]=e[o];return t}function extend(){var e,t=arguments,o=t[0]||{},n=1,i=t.length,a=!1;if("boolean"==typeof o&&(a=o,o=t[1]||{},n=2),"object"==typeof o||isFunction(o)||(o={}),i==n)return o;for(;n<i;n++)if(null!=(e=t[n]))for(var r in e){var s=o[r],l=e[r];o!==l&&(a&&l&&"object"==typeof l&&!l.nodeType?o[r]=extend(a,s||(null!=l.length?[]:{}),l):void 0!==l&&(o[r]=l))}return o}function hasClass(e,t){return e=ge(e),e&&new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)}function addClass(e,t){(e=ge(e))&&!hasClass(e,t)&&(e.className=(e.className?e.className+" ":"")+t)}function removeClass(e,t){(e=ge(e))&&(e.className=trim((e.className||"").replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ")))}function toggleClass(e,t,o){void 0===o&&(o=!hasClass(e,t)),(o?addClass:removeClass)(e,t)}function replaceClass(e,t,o){removeClass(e,t),addClass(e,o)}function getStyle(e,t,o){if(e=ge(e),isArray(t)){var n={};return each(t,function(t,o){n[o]=getStyle(e,o)}),n}if(void 0===o&&(o=!0),!o&&"opacity"==t&&browser.msie){var i=e.style.filter;return i?i.indexOf("opacity=")>=0?parseFloat(i.match(/opacity=([^)]*)/)[1])/100+"":"1":""}if(!o&&e.style&&(e.style[t]||"height"==t))return e.style[t];var a,r=document.defaultView||window;if(r.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1").toLowerCase();var s=r.getComputedStyle(e,null);s&&(a=s.getPropertyValue(t))}else if(e.currentStyle){if("opacity"==t&&browser.msie){var i=e.currentStyle.filter;return i&&i.indexOf("opacity=")>=0?parseFloat(i.match(/opacity=([^)]*)/)[1])/100+"":"1"}var l=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()});if(a=e.currentStyle[t]||e.currentStyle[l],"auto"==a&&(a=0),!/^\d+(px)?$/i.test(a)&&/^\d/.test(a)){var c=e.style,d=c.left,u=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,c.left=a||0,a=c.pixelLeft+"px",c.left=d,e.runtimeStyle.left=u}}if(o&&("width"==t||"height"==t)){var h=getSize(e,!0)[{width:0,height:1}[t]];a=(intval(a)?Math.max(floatval(a),h):h)+"px"}return a}function setStyle(e,t,o){if(e=ge(e)){if("object"==typeof t)return each(t,function(t,o){setStyle(e,t,o)});if("opacity"==t)browser.msie&&((o+"").length?e.style.filter="alpha(opacity="+100*o+")":e.style.filter="",e.style.zoom=1),e.style.opacity=o;else try{var n="number"==typeof o;n&&/height|width/i.test(t)&&(o=Math.abs(o)),e.style[t]=n&&!/z-?index|font-?weight|opacity|zoom|line-?height/i.test(t)?o+"px":o}catch(i){debugLog([t,o])}}}function data(e,t,o){var n,i=e[vkExpand];return i||(i=e[vkExpand]=++vkUUID),t&&!vkCache[i]&&(vkCache[i]={},__debugMode&&(vkCache[i].__elem=e)),o!==n&&(vkCache[i][t]=o),t?vkCache[i][t]:i}function removeAttr(e){for(var t=0;t<arguments.length;++t){var o=arguments[t];if(void 0!==e[o])try{delete e[o]}catch(n){try{e.removeAttribute(o)}catch(n){}}}}function removeData(e,t){var o=!!e&&e[vkExpand];if(o)if(t){if(vkCache[o]){delete vkCache[o][t],t="";for(t in vkCache[o])break;t||removeData(e)}}else removeEvent(e),removeAttr(e,vkExpand),delete vkCache[o]}function cleanElems(){for(var e=arguments,t=0;t<e.length;++t){var o=ge(e[t]);o&&(removeData(o),removeAttr(o,"btnevents"))}}function animate(e,t,o,n){if(e=ge(e)){var i,a=isFunction(n)?n:function(){},r=extend({},"object"==typeof o?o:{duration:o,onComplete:a}),s={},l={},c=isVisible(e);r.orig={},t=clone(t),browser.iphone&&(r.duration=0);var d=data(e,"tween"),u=c?"hide":"show";d&&d.isTweening&&(r.orig=extend(r.orig,d.options.orig),d.stop(!1),d.options.show?u="hide":d.options.hide&&(u="show"));for(i in t){if(!d&&("show"==t[i]&&c||"hide"==t[i]&&!c))return r.onComplete.call(this,e);if("height"!=i&&"width"!=i||!e.style||(void 0==r.orig.overflow&&(r.orig.overflow=getStyle(e,"overflow")),e.style.overflow="hidden",hasClass(e,"inl_bl")||(e.style.display="block")),/show|hide|toggle/.test(t[i]))if("toggle"==t[i]&&(t[i]=u),"show"==t[i]){var h=0;r.show=!0,void 0==r.orig[i]&&(r.orig[i]=getStyle(e,i,!1)||"",setStyle(e,i,0));var p;"height"==i&&browser.msie6?(p="0px",e.style.overflow=""):p=r.orig[i];var f=e.style[i];e.style[i]=p,t[i]=parseFloat(getStyle(e,i,!0)),e.style[i]=f,"height"==i&&browser.msie&&(e.style.overflow="hidden")}else void 0==r.orig[i]&&(r.orig[i]=getStyle(e,i,!1)||""),r.hide=!0,t[i]=0}return r.show&&!c&&show(e),d=new Fx.Base(e,r),each(t,function(t,o){if(/backgroundColor|borderBottomColor|borderLeftColor|borderRightColor|borderTopColor|color|borderColor|outlineColor/.test(t)){var n="borderColor"==t?"borderTopColor":t;h=getColor(e,n),o=getRGB(o)}else{var i=o.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/);d.cur(t,!0)||0;i&&(o=parseFloat(i[2]),i[1]&&(o=("-="==i[1]?-1:1)*o+o)),r.hide&&"height"==t&&browser.msie6&&(e.style.height="0px",e.style.overflow=""),h=d.cur(t,!0),r.hide&&"height"==t&&browser.msie6&&(e.style.height="",e.style.overflow="hidden"),0!=h||"width"!=t&&"height"!=t||(h=1),"opacity"==t&&o>0&&!c&&(setStyle(e,"opacity",0),h=0,show(e))}(h!=o||isArray(h)&&h.join(",")==o.join(","))&&(s[t]=h,l[t]=o)}),d.start(s,l),data(e,"tween",d),d}}function fadeTo(e,t,o,n){return animate(e,{opacity:o},t,n)}function genFx(e,t){var o={};return each(Fx.Attrs.concat.apply([],Fx.Attrs.slice(0,t)),function(){o[this]=e}),o}function getRGB(e){var t;return e&&isArray(e)&&3==e.length?e:(t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]:(t=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))?[2.55*parseFloat(t[1]),2.55*parseFloat(t[2]),2.55*parseFloat(t[3])]:(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:(t=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]:void 0}function getColor(e,t){var o;do{if(o=getStyle(e,t),o.indexOf("rgba")||(o=""),""!=o&&"transparent"!=o||"body"==e.nodeName.toLowerCase())break;t="backgroundColor"}while(e=e.parentNode);return getRGB(o)}function scrollToTop(e){void 0==e&&(e=400),e?browser.msie6?animate(pageNode,{scrollTop:0},e):(animate(htmlNode,{scrollTop:0},e),animate(bodyNode,{scrollTop:0},e)):(window.scroll(0,0),browser.msie6&&(pageNode.scrollTop=0))}function scrollGetY(){return window.pageYOffset||scrollNode.scrollTop||document.documentElement.scrollTop}function notaBene(e,t,o){if(e=ge(e)){o||elfocus(e);var n=data(e,"back")||data(e,"back",getStyle(e,"backgroundColor")),i={notice:"#FFFFE0",warning:"#FAEAEA"};setStyle(e,"backgroundColor",i[t]||t||i.warning),setTimeout(animate.pbind(e,{backgroundColor:n},300),400)}}function setTitle(e){if(e=ge(e),e&&!e.titleSet){if(e.scrollWidth>e.clientWidth)e.setAttribute("title",e.innerText||e.textContent);else{var t=geByTag1("b",e);t&&t.scrollWidth>t.clientWidth?e.setAttribute("title",e.innerText||e.textContent):e.removeAttribute("title")}e.titleSet=1}}function __adsGetAjaxParams(e,t){__adsGetAjaxParams=function(){return window.AdsLight&&AdsLight.getAjaxParams.apply(AdsLight.getAjaxParams,arguments)||{al_ad:null}};var o=stManager.add(["aes_light.js"],__adsGetAjaxParams.pbind(e,t));return o||{al_ad:null}}function __adsUpdate(e){__adsUpdate=function(){window.AdsLight&&AdsLight.updateBlock.apply(AdsLight.updateBlock,arguments)},stManager.add(["aes_light.js"],__adsUpdate.pbind(e))}function __adsSet(e,t,o,n,i){__adsSet=function(){window.AdsLight&&AdsLight.setNewBlock.apply(AdsLight.setNewBlock,arguments)},stManager.add(["aes_light.js"],__adsSet.pbind(e,t,o,n,i))}function currentAudioId(){return window.audioPlayer&&audioPlayer.id}function padAudioPlaylist(){return window.audioPlaylist||ls.get("pad_playlist")}function isObject(e){return"[object Object]"===Object.prototype.toString.call(e)}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function cleanObj(e){if(isObject(e)){var t={};for(var o in e)t[o.replace(/[^a-zA-Z0-9_\-]/g,"")]=cleanObj(e[o])}else if(isArray(e)){var t=[];for(var o in e)t.push(cleanObj(e[o]))}else{var n=typeof e;if("number"==n||"boolean"==n)var t=e;else var t=clean(e)}return t}function updGlobalPlayer(){return!1}function addEvent(e,t,o,n,i){if(e=ge(e),e&&3!=e.nodeType&&8!=e.nodeType){var a=i?function(e){var t=e.data;e.data=i;var n=o.apply(this,[e]);return e.data=t,n}:o;e.setInterval&&e!=window&&(e=window);var r=data(e,"events")||data(e,"events",[]),s=data(e,"handle")||data(e,"handle",function(){_eventHandle.apply(arguments.callee.elem,arguments)});s.elem=e,each(t.split(/\s+/),function(t,o){r[o]||(r[o]=[],!n&&e.addEventListener?e.addEventListener(o,s,!1):!n&&e.attachEvent&&e.attachEvent("on"+o,s)),r[o].push(a)}),e=null}}function removeEvent(e,t,o){if(e=ge(e)){var n=data(e,"events");if(n)if("string"==typeof t)each(t.split(/\s+/),function(t,i){if(isArray(n[i])){if(isFunction(o)){for(var a=0;a<n[i].length;a++)if(n[i][a]==o){for(var r=a+1;r<n[i].length;r++)n[i][r-1]=n[i][r];n[i].pop();break}}else for(var a=0;a<n[i].length;a++)delete n[i][a];n[i].length||(e.removeEventListener?e.removeEventListener(i,data(e,"handle"),!1):e.detachEvent&&e.detachEvent("on"+i,data(e,"handle")),delete n[i])}});else for(var i in n)removeEvent(e,i)}}function triggerEvent(e,t,o){var n=data(e,"handle");n&&setTimeout(function(){n.call(e,extend(o||{},{type:t,target:e}))},0)}function cancelEvent(e){return!!(e=e||window.event)&&(e=e.originalEvent||e,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,!1)}function _eventHandle(e){e=e||window.event;var t=e;if(e=clone(t),e.originalEvent=t,e.target||(e.target=e.srcElement||document),3==e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement==e.target),null==e.pageX&&null!=e.clientX){var o=document.documentElement,n=bodyNode||document.body;e.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o.clientTop||0)}!e.which&&(e.charCode||0===e.charCode?e.charCode:e.keyCode)&&(e.which=e.charCode||e.keyCode),!e.metaKey&&e.ctrlKey&&(e.metaKey=e.ctrlKey),!e.which&&e.button&&(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0);var i=data(this,"events");if(i&&"string"==typeof e.type&&i[e.type]&&i[e.type].length)for(var a in i[e.type]||[]){if("mouseover"==e.type||"mouseout"==e.type){for(var r=e.relatedElement;r&&r!=this;)try{r=r.parentNode}catch(s){r=this}if(r==this)continue}var l=i[e.type][a].apply(this,arguments);l===!1&&cancelEvent(e)}}function normEvent(e){e=e||window.event;var t=e;if(e=clone(t),e.originalEvent=t,e.target||(e.target=e.srcElement||document),3==e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement==e.target),null==e.pageX&&null!=e.clientX){var o=document.documentElement,n=bodyNode;e.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o.clientTop||0)}return!e.which&&(e.charCode||0===e.charCode?e.charCode:e.keyCode)&&(e.which=e.charCode||e.keyCode),!e.metaKey&&e.ctrlKey?e.metaKey=e.ctrlKey:!e.ctrlKey&&e.metaKey&&browser.mac&&(e.ctrlKey=e.metaKey),!e.which&&e.button&&(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0),e}function onCtrlEnter(e,t){e=e||window.event,(10==e.keyCode||e.ctrlKey&&13==e.keyCode)&&t()}function domStarted(){window.headNode=geByTag1("head");var e=ge("box_layer_bg"),t=e.nextSibling;if(extend(window,{icoNode:geByTag1("link",headNode),bodyNode:geByTag1("body"),htmlNode:geByTag1("html"),utilsNode:ge("utils"),boxLayerBG:e,boxLayerWrap:t,boxLayer:t.firstChild,boxLoader:t.firstChild.firstChild,__afterFocus:!1,__needBlur:!1}),utilsNode){for(var o in StaticFiles){var n=StaticFiles[o];n.l=1,"css"==n.t&&utilsNode.appendChild(ce("div",{id:n.n}))}hab.init()}}function domReady(){if(utilsNode){extend(window,{pageNode:document.body}),window.scrollNode=browser.msie6?pageNode:browser.chrome||browser.safari?bodyNode:htmlNode,onBodyResize();browser.msie6?pageNode:window}}function onDomReady(e){e()}function serializeForm(e){if("object"!=typeof e)return!1;var t={},o=function(t){return geByTag(t,e)},n=function(o,n){n.name&&("text"!=n.type&&n.type?t[n.name]=browser.msie&&!n.value&&e[n.name]?e[n.name].value:n.value:t[n.name]=val(n))};return each(o("input"),function(e,t){if("radio"!=t.type&&"checkbox"!=t.type||t.checked)return n(e,t)}),each(o("select"),n),each(o("textarea"),n),t}function ajx2q(e){var t=[],o=function(e){try{return encodeURIComponent(e)}catch(t){return e}};for(var n in e)if(null!=e[n]&&!isFunction(e[n]))if(isArray(e[n]))for(var i=0,a=0;i<e[n].length;++i)null==e[n][i]||isFunction(e[n][i])||(t.push(o(n)+"["+a+"]="+o(e[n][i])),++a);else t.push(o(n)+"="+o(e[n]));return t.sort(),t.join("&")}function q2ajx(e){if(!e)return{};var t={},o=function(e){try{return decodeURIComponent(e)}catch(t){return e}};return e=e.split("&"),each(e,function(e,n){var i=n.split("=");if(i[0]){var a=o(i[1]+"");if("[]"==i[0].substr(i.length-2)){var r=o(i[0].substr(0,i.length-2));t[r]||(t[r]=[]),t[r].push(a)}else t[o(i[0])]=a}}),t}function requestBox(e,t,o){return e.setOptions({onHide:o}),e.onDone=function(){e.setOptions({onHide:!1}),t()},e}function activateMobileBox(e){return requestBox(showBox("activation.php",{act:"activate_mobile_box",hash:e.hash,captcha:e.acceptCaptcha?1:""}),function(){vk.nophone=0,e.onDone()},e.onFail)}function HistoryAndBookmarks(e){var t,o=function(e){var t=e.split("#"),o=t[0].split("?");return o[0]+(o[1]?"?"+ajx2q(q2ajx(o[1])):"")+(t[1]?"#"+t[1]:"")},n=null,i=browser.msie6||browser.msie7,a=function(){return n.contentDocument||(n.contentWindow?n.contentWindow.document:n.document)},r=extend({onLocChange:function(){}},e),s=function(e){var t="";if(3==vk.al)t=(location.pathname||"")+(location.search||"")+(location.hash||"");else if(i&&!e)try{t=a().getElementById("loc").innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&quot;/gi,'"').replace(/&amp;/gi,"&")}catch(n){t=l}else t=browser.msie6?(location.toString().match(/#(.*)/)||{})[1]||"":location.hash.replace(/^#/,""),t.substr(0,1)!=vk.navPrefix&&(t=(location.pathname||"")+(location.search||"")+(location.hash||""));return!t&&vk.al>1&&(t=(location.pathname||"")+(location.search||"")),o(t.replace(/^(\/|!)/,""))},l=s(!0),c=function(e){try{var t=a();t.open(),t.write('<div id="loc">'+e.replace("&","&amp;").replace('"',"&quot;").replace(">","&gt;").replace("<","&lt;")+"</div>"),t.close()}catch(o){}},d=function(e){l=o(e);var t=(location.toString().match(/#(.*)/)||{})[1]||"";if(!t&&vk.al>1&&(t=(location.pathname||"")+(location.search||"")),t=o(t),t.replace(/^(\/|!)/,"")!=l){if(3==vk.al)try{return void history.pushState({},"","/"+l)}catch(n){}window.chHashFlag=!0,location.hash="#"+vk.navPrefix+l,i&&s()!=l&&c(l)}},u=function(){var e=s(!0);e!=l&&c(e)},h=function(e){var t=s();t==l&&e!==!0||(r.onLocChange(t),l=t,i&&location.hash.replace("#"+vk.navPrefix,"")!=t&&(location.hash="#"+vk.navPrefix+t))},p=function(){try{if("complete"!=n.contentWindow.document.readyState)return}catch(e){return}h()},f=function(){1==vk.al&&h(!0),vk.al<3?i?(n=document.createElement("iframe"),n.id="hab_frame",n.attachEvent("onreadystatechange",p),n.src="al_loader.php?act=hab_frame&loc="+encodeURIComponent(l)+"&domain="+encodeURIComponent(locDomain),utilsNode.appendChild(n),t=setInterval(u,200)):"onhashchange"in window?addEvent(window,"hashchange",function(){window.chHashFlag?window.chHashFlag=!1:h()}):t=setInterval(h,200):3==vk.al&&addEvent(window,"popstate",h)};return{setLoc:d,getLoc:s,init:f,setOptions:function(e){r=extend(r,e)},checker:h,stop:function(){vk.al<3?(clearInterval(t),i&&n.detachEvent("onreadystatechange",p)):3==vk.al&&removeEvent(window,"popstate",h)}}}function checkEvent(e){return e&&(e.which>1||e.button>1||e.ctrlKey)}function processDestroy(e){if(e._back&&e._back.hide&&e==cur)for(var t in e._back.hide)try{e._back.hide[t]()}catch(o){}if(e.destroy&&e.destroy.length)for(var t in e.destroy)try{e.destroy[t](e)}catch(o){}}function _initCookies(){_cookies={};for(var e=document.cookie.split(";"),t=/^[\s]*([^\s]+?)$/i,o=0;o<e.length;o++){var n=e[o].split("=");2==n.length&&(_cookies[n[0].match(t)[1]]=unescape(n[1].match(t)?n[1].match(t)[1]:""))}}function getCookie(e){return _initCookies(),_cookies[e]}function setCookie(e,t,o){var n="";if(o){var i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3),n="; expires="+i.toGMTString()}var a=locDomain;document.cookie=e+"="+escape(t)+n+"; path=/"+(a?"; domain=."+a:"")}function parseLatin(e){for(var t=e,o=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],n=["�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�"],i=0;i<o.length;i++)t=t.split(o[i]).join(n[i]);for(var a="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCY¸¨",r="������������������������������������������������",i=0;i<a.length;i++)t=t.split(a.charAt(i)).join(r.charAt(i));return t==e?null:t}function __phCheck(e,t,o,n,i){var a=e.phshown,r=e.phcont;if(o){var s=(void 0!==e.textContent?e.textContent:e.innerText)||geByTag("img",e).length;s&&browser.opera&&s.match(/^[ ]+$/)&&(s="")}else var s=e.value;a&&(t&&s||!t&&(n&&!n.type||s))?(hide(r),e.phshown=!1):a||s||!t&&!i||(show(r),e.phshown=!0,browser.opera&&i&&(e.setAttribute("placeholder",""),e.removeAttribute("placeholder",""))),t&&!s&&(n&&!n.type&&(clearTimeout(e.phanim),e.phanim=setTimeout(function(){animate(r.firstChild.firstChild,{color:"#C0C8D0"},200)},100)),i&&(clearTimeout(e.phanim),e.phanim=setTimeout(function(){animate(r.firstChild.firstChild,{color:"#8C8E91"},200)},100)))}function placeholderSetup(e,t){var o,n=ge(e),i=t?clone(t):{};if(n&&(!n.phevents||i.reload)&&(o=n.getAttribute("placeholder")||n.placeholder)){n.removeAttribute("placeholder");var a={},r=["Top","Bottom","Left","Right"];if(i.pad)a=i.pad;else{if(i.fast){for(var s=0;s<4;++s)a["padding"+r[s]]=3,a["margin"+r[s]]=0;extend(a,i.styles||{})}else{for(var l=[],s=0;s<4;++s)l.push("margin"+r[s]),l.push("padding"+r[s]);a=getStyle(n,l)}for(var s=0;s<4;++s){var c="margin"+r[s];a[c]=intval(a[c])+1+"px"}}if(i.reload){var d=n.previousSibling;d&&hasClass(d,"input_back_wrap")&&re(d)}var u=n.phcont=n.parentNode.insertBefore(ce("div",{className:"input_back_wrap no_select",innerHTML:'<div class="input_back"><div class="input_back_content'+(i.big?" big":"")+'" style="width: '+(getSize(n)[0]-20)+'px;">'+o+"</div></div>"}),n),h=domFC(u);domFC(h);setStyle(h,a);var p=__phCheck.pbind(n,i.back,i.editable),f=browser.mobile?p:function(e,t){setTimeout(p.pbind(e,t),0)};browser.msie&&browser.version<8&&setStyle(h,{marginTop:1}),n.phonfocus=function(e){n.focused=!0,cur.__focused=n,e===!0&&(setStyle(n,{backgroundColor:"#FFF"}),hide(h)),f(!0,!1)},n.phonblur=function(){cur.__focused=n.focused=!1,show(h),f(!1,!0)},n.phshown=!0,n.phanim=null,(n.value||i.editable&&((void 0!==n.textContent?n.textContent:n.innerText)||geByTag("img",n).length))&&(n.phshown=!1,hide(u)),browser.opera_mobile||(addEvent(u,"focus click",function(e){i.editableFocus?(setTimeout(i.editableFocus.pbind(n),0),n.phonfocus()):(n.blur(),n.focus())}),addEvent(n,"focus"+(i.editable?" click":""),n.phonfocus),addEvent(n,"keydown paste cut input",f)),addEvent(n,"blur",n.phonblur),n.check=f,n.getValue=function(){return i.editable?n.innerHTML:n.value},n.setValue=function(e){i.editable?n.innerHTML=e:n.value=e,__phCheck(n,i.back,i.editable)},n.phevents=!0,n.phonsize=function(){},i.global||i.reload||(cur.__phinputs||(cur.__phinputs=[],cur.destroy.push(function(){for(var e=0,t=cur.__phinputs.length;e<t;++e)removeData(cur.__phinputs[e])})),cur.__phinputs.push(n))}}function val(e,t,o){if(e=ge(e))return void 0!==t&&(e.setValue?(e.setValue(t),!o&&e.phonblur&&e.phonblur()):"INPUT"==e.tagName||"TEXTAREA"==e.tagName?e.value=t:e.innerHTML=t),e.getValue?e.getValue():("INPUT"==e.tagName||"TEXTAREA"==e.tagName?e.value:e.innerHTML)||""}function elfocus(e,t,o){e=ge(e);try{if(e.focus(),void 0!==t&&t!==!1||(t=e.value.length),void 0!==o&&o!==!1||(o=t),e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",o),n.select()}else e.setSelectionRange&&e.setSelectionRange(t,o)}catch(i){}}function curBox(){var e=_message_boxes[__bq.curBox];return e&&e.isVisible()?e:null}function MessageBox(options,dark){function refreshCoords(){var e=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:boxLayerBG.offsetHeight,t=browser.mobile?intval(window.pageYOffset):0;containerSize=getSize(boxContainer),boxContainer.style.marginTop=Math.max(10,t+(e-containerSize[1])/3)+"px"}function refreshBox(){options.title?(boxTitle.innerHTML=options.title,removeClass(boxBody,"box_no_title"),show(boxTitleWrap)):(addClass(boxBody,"box_no_title"),hide(boxTitleWrap)),boxContainer.style.width="string"==typeof options.width?options.width:options.width+"px",boxContainer.style.height="string"==typeof options.height?options.height:options.height+"px"}function addButton(e,t,o){if(options.dark&&"no"==o)return!1;++buttonsCount,"no"==o&&(o="gray"),"yes"==o&&(o="blue");var n=ce("div",{className:"button_"+(o?o:"blue"),innerHTML:"<button>"+e+"</button>"}),i=boxButtons.rows[0],a=i.insertCell(0);return a.appendChild(n),createButton(n.firstChild,t),n}function setControlsText(e){boxControlsText.innerHTML=e}function removeButtons(){for(var e=boxButtons.rows[0];e.cells.length;)cleanElems(e.cells[0]),e.deleteCell(0)}function showMe(e,t,o){if(!visible&&_message_boxes[guid]){visible=!0;var n=e===!0||t?0:options.animSpeed;if(options.hideOnBGClick&&addEvent(document,"click",__bq.hideBGClick),__bq.currHiding){__bq.currHiding.shOther=!0;var i=__bq.currHiding.bodyNode.parentNode.parentNode;data(i,"tween").stop(!0)}n>0?fadeIn(boxContainer,n):show(boxContainer),refreshCoords(),options.onShow&&options.onShow(o),_message_box_shown=!0,options.dark&&addClass(boxLayerBG,"bg_dark")}}var defaults={width:410,animSpeed:0,height:"auto",bodyStyle:"",dark:!1,selfDestruct:!0,progress:!1};options=extend(defaults,options),dark&&(options.dark=1);var buttonsCount=0,boxContainer,boxBG,boxContainer,boxLayout,boxTitleWrap,boxTitle,boxCloseButton,boxBody,boxControlsWrap,boxControls,boxButtons,boxProgress,boxControlsText,guid=_message_box_guid++,visible=!1;options.progress||(options.progress="box_progress"+guid);var controlsStyle=options.hideButtons?' style="display: none"':"";boxContainer=ce("div",{className:"popup_box_container"+(options.dark?" box_dark":""),innerHTML:'<div class="box_layout" onclick="__bq.skip=true;"><div class="box_title_wrap"><div class="box_x_button">'+(options.dark?getLang("global_close"):"")+'</div><div class="box_title"></div></div><div class="box_body" style="'+options.bodyStyle+'"></div><div class="box_controls_wrap"'+controlsStyle+'><div class="box_controls"><table cellspacing="0" cellpadding="0" class="fl_r"><tr></tr></table><div class="progress" id="'+options.progress+'"></div><div class="box_controls_text"></div></div></div></div>'},{display:"none"}),hide(boxContainer),boxLayout=domFC(boxContainer),boxTitleWrap=domFC(boxLayout),boxCloseButton=domFC(boxTitleWrap),boxTitle=domNS(boxCloseButton),options.noCloseButton&&hide(boxCloseButton),boxBody=domNS(boxTitleWrap),boxControlsWrap=domNS(boxBody),boxControls=domFC(boxControlsWrap),boxButtons=domFC(boxControls),boxProgress=domNS(boxButtons),boxControlsText=domNS(boxProgress),boxLayer.appendChild(boxContainer),refreshBox(),refreshCoords();var destroyMe=function(){options.onClean&&options.onClean(),removeButtons(),cleanElems(boxContainer,boxCloseButton,boxTitleWrap,boxControlsWrap),boxLayer.removeChild(boxContainer),delete _message_boxes[guid],options.onWidgetHide&&options.onWidgetHide()},hideMe=function(e,t){if(visible){visible=!1;var o=e===!0?0:options.animSpeed;options.hideOnBGClick&&removeEvent(document,"click",__bq.hideBGClick),isFunction(options.onBeforeHide)&&options.onBeforeHide();var n=function(){__bq.currHiding==_message_boxes[guid]&&(__bq.currHiding=!1),!t&&options.selfDestruct?destroyMe():hide(boxContainer),
options.onHide&&options.onHide()};o>0?(__bq.currHiding=_message_boxes[guid],fadeOut(boxContainer,o,n)):n()}},fadeToColor=function(e){return function(){animate(this,{backgroundColor:e},200)}};options.dark||(addEvent(boxCloseButton,"mouseover",fadeToColor("#FFFFFF")),addEvent(boxCloseButton,"mouseout",fadeToColor("#9CB8D4"))),addEvent(boxCloseButton,"click",__bq.hideLast);var retBox=_message_boxes[guid]={guid:guid,_show:showMe,_hide:hideMe,bodyNode:boxBody,dark:options.dark,show:function(){return __bq._show(guid),this},progress:boxProgress,showProgress:function(){hide(boxControlsText),show(boxProgress)},hideProgress:function(){hide(boxProgress),show(boxControlsText)},hide:function(e){return!(isFunction(options.onHideAttempt)&&!options.onHideAttempt(e))&&(options.dark&&removeClass(boxLayerBG,"bg_dark"),__bq._hide(guid),!0)},isVisible:function(){return visible},bodyHeight:function(){return getStyle(boxBody,"height")},content:function(e){return options.onClean&&options.onClean(),boxBody.innerHTML=e,refreshCoords(),refreshBox(),this},addButton:function(e,t,o,n){var i=addButton(e,t?t:this.hide,o);return n?i:this},setButtons:function(e,t,o,n){var i=this.removeButtons();return e?(o&&i.addButton(o,n,"no"),i.addButton(e,t)):i.addButton(box_close)},setControlsText:setControlsText,removeButtons:function(){return removeButtons(),this},destroy:destroyMe,setOptions:function(e){if(options.hideOnBGClick&&removeEvent(document,"click",__bq.hideBGClick),options=extend(options,e),"bodyStyle"in e)for(var t=options.bodyStyle.split(";"),o=0;o<t.length;++o){var n=t[o].split(":");n.length>1&&n[0].length&&(boxBody.style[trim(n[0])]=trim(n[1]),boxBody.style.setProperty&&boxBody.style.setProperty(trim(n[0]),trim(n[1]),""))}return options.hideOnBGClick&&addEvent(document,"click",__bq.hideBGClick),options.hideButtons?hide(boxControlsWrap):show(boxControlsWrap),refreshBox(),refreshCoords(),this},evalBox:function(js,url,params){var fn=eval("((function() { return function() { var box = this; "+(js||"")+";}; })())");fn.apply(this,[url,params])}};return retBox}function showBox(e,t,o,n){if(checkEvent(n))return!1;var i=o||{},a=i.params||{},r=new MessageBox(a,i.dark),s={onDone:function(o,n,s){if(r.isVisible())try{show(boxLayerBG),r.setOptions({title:o,hideButtons:a.hideButtons||!1}),i.showProgress?r.show():show(r.bodyNode),r.content(n),r.evalBox(s,e,t),i.onDone&&i.onDone()}catch(l){topError(l,{dt:15,type:103,url:e,query:ajx2q(t),answer:Array.prototype.slice.call(arguments).join("<!>")}),r.isVisible()&&r.hide()}},onFail:function(e){if(r.failed=!0,setTimeout(r.hide,0),isFunction(i.onFail))return i.onFail(e)},cache:i.cache,stat:i.stat,fromBox:!0};return i.prgEl&&(i.showProgress=showGlobalPrg.pbind(i.prgEl,{cls:i.prgClass,w:i.prgW,h:i.prgH,hide:!0}),i.hideProgress=hide.pbind("global_prg")),i.showProgress?extend(s,{showProgress:i.showProgress,hideProgress:i.hideProgress}):(r.setOptions({title:!1,hideButtons:!0}).show(),__bq.count()<2&&hide(boxLayerBG),hide(r.bodyNode),s.showProgress=function(){show(boxLoader),boxRefreshCoords(boxLoader)},s.hideProgress=hide.pbind(boxLoader)),r.removeButtons().addButton(getLang("global_close")),ajax.post(e,t,s),r}function showTabbedBox(e,t,o,n){return o=o||{},o.stat=o.stat||[],o.stat.push("box.js","boxes.css"),showBox(e,t,o,n)}function showFastBox(e,t,o,n,i,a){return new MessageBox("string"==typeof e?{title:e}:e).content(t).setButtons(o,n,i,a).show()}function showCaptchaBox(e,t,o,n){var i=function(t){if(!t||void 0===t.keyCode||10==t.keyCode||13==t.keyCode){var i=geByTag1("input",o.bodyNode);if(!trim(i.value)&&t!==!0)return void elfocus(i);var a=geByTag1("img",o.bodyNode),r=a[0];a[1];removeEvent(i),removeEvent(r),show(geByClass1("progress",o.bodyNode)),hide(i),n.onSubmit(e,i.value)}},a=!!o,r=intval(t)?"":"&s=1",s=n.imgSrc||"/captcha.php?sid="+e+r;if(!a){var l='<div class="captcha">  <div><img src="'+s+'"/></div>  <div><input type="text" class="text" maxlength="7" /><div class="progress" /></div></div></div>'+(n.addText||"");o=showFastBox({title:getLang("captcha_enter_code"),width:300,onHide:n.onHide,dark:1},l,getLang("captcha_send"),function(){o.submit()},getLang("captcha_cancel"),function(){var e=geByTag1("input",o.bodyNode),t=geByTag1("img",o.bodyNode);removeEvent(e),removeEvent(t),o.hide()})}o.submit=i.pbind(!0);var c=geByTag1("input",o.bodyNode),d=geByTag1("img",o.bodyNode);return a&&(c.value="",d.src="/captcha.php?sid="+e+r,hide(geByClass1("progress",o.bodyNode))),show(c),addEvent(c,"keypress",i),addEvent(d,"click",function(){this.src="/captcha.php?sid="+e+r+"&v="+irand(1e6,2e6)}),elfocus(c),o}function createButton(e,t){if(e=ge(e),e&&!e.btnevents){var o=e.parentNode;if(hasClass(o,"button_blue")||hasClass(o,"button_gray"))return void(isFunction(t)&&(e.onclick=t.pbind(e)));var n=!1;addEvent(e,"click mousedown mouseover mouseout",function(i){if(!hasClass(o,"locked"))switch(i.type){case"click":if(!n)return;e.className="button_hover",t(e);break;case"mousedown":e.className="button_down";break;case"mouseover":n=!0,e.className="button_hover";break;case"mouseout":e.className="button",n=!1}}),e.btnevents=!0}}function lockButton(e){if(e=ge(e),hasClass(e,"flat_button"))return void lockFlatButton(e);if(e&&"button"==e.tagName.toLowerCase()){var t=ce("span",{className:"button_lock"});e.parentNode.insertBefore(t,e),e.old_width=e.style.width,e.old_height=e.style.height;var o=getSize(e.parentNode);setStyle(e,{width:o[0],height:o[1]}),browser.msie6||browser.msie7?(e.old_html=e.innerHTML,e.innerHTML=""):e.style.textIndent="-9999px"}}function unlockButton(e){if(e=ge(e),hasClass(e,"flat_button"))return void unlockFlatButton(e);var t=geByClass("button_lock",e.parentNode,"span")[0];t&&(e.parentNode.removeChild(t),e.style.width=e.old_width,e.style.height=e.old_height,(browser.msie6||browser.msie7)&&(e.innerHTML=e.old_html),e.style.textIndent="")}function buttonLocked(e){if(e=ge(e))return hasClass(e,"flat_button")?isButtonLocked(e):!!geByClass1("button_lock",e.parentNode,"span")}function disableButton(e,t){if((e=ge(e))&&"button"===e.tagName.toLowerCase()){if(hasClass(e,"flat_button"))return disableFlatButton(e,t);if(toggleClass(e.parentNode,"button_disabled",!!t),t)e.parentNode.insertBefore(ce("button",{innerHTML:e.innerHTML,className:"disabled"}),e),hide(e);else{var o=geByClass1("disabled",e.parentNode);o&&re(o),show(e)}}}function lockFlatButton(e){e&&"button"==e.tagName.toLowerCase()&&!isButtonLocked(e)&&(addClass(e,"flat_btn_lock"),e.innerHTML='<span class="flat_btn_h">'+e.innerHTML+"</span>")}function unlockFlatButton(e){isButtonLocked(e)&&(e.innerHTML=e.firstChild.innerHTML,removeClass(e,"flat_btn_lock"))}function isButtonLocked(e){if(e=ge(e))return hasClass(e,"flat_btn_lock")}function disableFlatButton(e,t){if((e=ge(e))&&"button"===e.tagName.toLowerCase())if(t)e.parentNode.insertBefore(ce("button",{innerHTML:e.innerHTML,className:e.className+" button_disabled"}),e),hide(e);else{var o=domPS(e);o&&hasClass(o,"button_disabled")&&re(o),show(e)}}function sbWidth(){if(void 0===window._sbWidth){var e=ce("div",{innerHTML:'<div style="height: 75px;">1<br>1</div>'},{overflowY:"scroll",position:"absolute",width:"50px",height:"50px"});bodyNode.appendChild(e),window._sbWidth=e.offsetWidth-e.firstChild.offsetWidth-1,bodyNode.removeChild(e)}return window._sbWidth}function onBodyResize(e){var t=window,o=document.documentElement;if(t.pageNode){var n=Math.max(intval(t.innerWidth),intval(o.clientWidth)),i=Math.max(intval(t.innerHeight),intval(o.clientHeight)),a=sbWidth();if(browser.mobile?(n=Math.max(n,intval(bodyNode.scrollWidth)),i=Math.max(i,intval(bodyNode.scrollHeight))):browser.msie7?htmlNode.scrollHeight>htmlNode.offsetHeight&&(n+=a+1):browser.msie8&&htmlNode.scrollHeight+3>htmlNode.offsetHeight&&(n+=a+1),(t.lastWindowWidth!=n||e===!0)&&(t.lastInnerWidth=t.lastWindowWidth=n,bodyNode.offsetWidth<layoutWidth+a+2&&(n=layoutWidth+a+2),n))for(var r=pageNode.firstChild;r;r=r.nextSibling)if(r.tagName)for(var s=r.firstChild;s;s=s.nextSibling)"scroll_fix"==s.className&&(s.style.width=(t.lastInnerWidth=n-a*(browser.msie7?2:1)-1)-1+"px");t.lastWindowHeight==i&&e!==!0||(t.lastWindowHeight=i,browser.msie6&&(pageNode.style.height=i+"px")),cur.lSTL&&setStyle(cur.lSTL,{width:Math.max(getXY(cur.lSTL.el)[0],0),height:i-1})}}function checkTextLength(e,t,o,n){var i=t.getValue?t.getValue():t.value;if(t.lastLen!==i.length){t.lastLen=i.length;var a=function(e,t){for(var o={"&":5,"<":4,">":4,'"':6,"\n":t?1:4,"\r":0,"!":5,"'":5},n=0,i=0;i<e.length;i++){var a=o[e.charAt(i)],r=e.charCodeAt(i);n+=void 0!==a?a:r>128&&r<192||r>1280?("&#"+r+";").length:1}return n},r=a(i,n);o=ge(o),r>e-100?(show(o),r>e?o.innerHTML=getLang("text_exceeds_symbol_limit",r-e):o.innerHTML=getLang("text_N_symbols_remain",e-r)):hide(o)}}function autosizeSetup(e,t){if(e=ge(e)){if(e.autosize)return void e.autosize.update();t.minHeight=intval(t.minHeight)||intval(getStyle(e,"height")),t.maxHeight=intval(t.maxHeight);var o=intval(getStyle(e,"width"));o<1&&(o=intval(getStyle(e,"width",!1))),e.autosize={options:t,helper:ce("textarea",{className:"ashelper"},{width:o,height:10,fontFamily:getStyle(e,"fontFamily"),fontSize:intval(getStyle(e,"fontSize"))+"px",lineHeight:getStyle(e,"lineHeight")}),handleEvent:function(t,o){var n=o.charCode?String.fromCharCode(o.charCode):o.charCode;if(void 0===n&&(n=String.fromCharCode(o.keyCode),10==o.keyCode||13==o.keyCode?n="\n":!browser.msie&&o.keyCode<=40&&(n="")),!n)return t;if(!browser.msie)return t.substr(0,e.selectionStart)+n+t.substr(e.selectionEnd);var i=document.selection.createRange();return i.text&&(t=t.replace(i.text,"")),t+n},update:function(t){var o=e.value;!t||"blur"==t.type||"keyup"==t.type||browser.msie&&"keypress"!=t.type||t.ctrlKey||t.altKey||(o=e.autosize.handleEvent(o,t)),o||(o=" "),e.autosize.helper.value!=o&&(e.autosize.helper.value=o);var n=e.autosize.options,i=getSize(e,!0)[1],a=e.autosize.helper.scrollHeight;a<n.minHeight&&(a=n.minHeight);var r={overflow:"hidden"};n.maxHeight&&a>n.maxHeight&&(a=n.maxHeight,r=extend(r,{overflow:"auto",overflowX:"hidden"})),i!=a&&(r.height=a,setStyle(e,r),e.phonsize&&e.phonsize(),isFunction(n.onResize)&&n.onResize(a))}},utilsNode.appendChild(e.autosize.helper),browser.opera_mobile?(setStyle(e,{overflow:"hidden"}),e.autosize.update(),addEvent(e,"blur",e.autosize.update)):(addEvent(e,"keydown keyup keypress",e.autosize.update),setTimeout(function(){setStyle(e,{overflow:"hidden"}),e.autosize.update()},0))}}function goAway(e,t,o){return!0}function isChecked(e){return e=ge(e),hasClass(e,"on")?1:""}function checkbox(e,t){if(e=ge(e),e&&!hasClass(e,"disabled"))return void 0===t&&(t=!isChecked(e)),t?addClass(e,"on"):removeClass(e,"on"),!1}function disable(e,t){return e=ge(e),void 0===t&&(t=!hasClass(e,"disabled")),t?addClass(e,"disabled"):removeClass(e,"disabled"),!1}function radioval(e){return!!radioBtns[e]&&radioBtns[e].val}function radiobtn(e,t,o){radioBtns[o]&&(each(radioBtns[o].els,function(){this==e?addClass(this,"on"):removeClass(this,"on")}),radioBtns[o].val=t)}function renderFlash(e,t,o,n){if(!t.url||!t.id)return!1;t=extend({version:9,width:1,height:1},t);var i=t.url;return stVersions[i]||(stVersions[i]=""),__debugMode&&stVersions[i]<1e6&&(stVersions[i]+=irand(1e6,2e6)),stVersions[i]&&(t.url+=(t.url.indexOf("?")==-1?"?":"&")+"_stV="+stVersions[i]),o=extend({quality:"high",flashvars:ajx2q(n)},o),!(browser.flash<t.version)&&(ge(e).innerHTML=browser.flashwrap(t,o),!0)}function playAudioNew(){cur.gpHidden=!0;var e=arguments;e[e.length-1]!==!1&&(e=Array.prototype.slice.apply(arguments).concat([!0])),browser.ipad?audioPlayer.operate.apply(null,e):stManager.add(["audioplayer.js","audioplayer.css"],function(){audioPlayer.operate.apply(null,e)})}function callHub(e,t){this.count=t||1,this.done=function(t){this.count-=t||1,this.count<=0&&e()}}function showTooltip(e,t){_cleanHide(e);var o=!0;e.temphide=function(){o=!1},addEvent(e,"mouseout",e.temphide),t.stat&&stManager.add(t.stat),stManager.add(["tooltips.js","tooltips.css"],function(){o&&(_cleanHide(e),e.tt&&e.tt.el&&!t.force||(tooltips.create(e,t),t.onCreate&&t.onCreate()),tooltips.show(e,t))})}function setFavIcon(){}function animateCount(e,t,o){if(e=ge(e),o=o||{},t=o.str?trim(t.toString())||"":positive(t),e){if(browser.msie6||browser.mobile&&!browser.safari_mobile&&!browser.android)return void val(e,t||"");var n=data(e,"curCount"),i=data(e,"nextCount");if("number"==typeof i||o.str&&"string"==typeof i)return void(t!=i&&data(e,"nextCount",t));if("number"==typeof n||o.str&&"string"==typeof n)return void(t!=n&&data(e,"nextCount",t));if(n=o.str?trim(val(e).toString())||"":positive(val(e)),n!=t){data(e,"curCount",t);var a,r,s,l=o.str?n.length==t.length?n<t:n.length<t.length:n<t,c=(l?t:n).toString(),d=(l?n:t).toString(),u=[],h=[],p="",f="";for(o.str||(d=new Array(c.length-d.length+1).join("0")+d),a=0,r=c.length;a<r&&(s=c.charAt(a))===d.charAt(a);a++)u.push(s);if(p=c.substr(a),f=d.substr(a),o.str){for(a=p.length;a>0&&(s=p.charAt(a))===f.charAt(a);a--)h.unshift(s);h.length&&(p=p.substr(0,a+1),f=f.substr(0,a+1))}u=u.join("").replace(/\s$/,"&nbsp;"),h=h.join("").replace(/^\s/,"&nbsp;"),trim(val(e))||val(e,"&nbsp;");var g=e.clientHeight||e.offsetHeight;val(e,'<div class="counter_wrap inl_bl"></div>');var v,b,m,_,y=e.firstChild,w=!0;u.length&&y.appendChild(v=ce("div",{className:"counter_const inl_bl",innerHTML:u})),u.length||(f=f.replace(/^0+/,"")),f&&"0"!=f||(f="&nbsp;",w=!!u.length),y.appendChild(m=ce("div",{className:"counter_anim_wrap inl_bl"})),m.appendChild(_=ce("div",{className:"counter_anim "+(l?"counter_anim_inc":"counter_anim_dec"),innerHTML:'<div class="counter_anim_big"><span class="counter_anim_big_c">'+p+"</span></div>"+(w?'<div class="counter_anim_small"><span class="counter_anim_small_c">'+f+"</span></div>":"")},w?{marginTop:l?-g:0}:{right:"auto",left:0})),o.str&&setStyle(_,{textAlign:"left",right:"auto",left:0});var x=geByClass1("counter_anim_big_c",_,"span").offsetWidth,C=w?"&nbsp;"==f?x:geByClass1("counter_anim_small_c",_,"span").offsetWidth:0;if(h.length&&y.appendChild(b=ce("div",{className:"counter_const inl_bl",innerHTML:h})),setStyle(y,{width:(v&&v.offsetWidth||0)+(b&&b.offsetWidth||0)+x}),void 0===browser.csstransitions){var k=browser,T=floatval(k.version);browser.csstransitions=k.chrome&&T>=9||k.mozilla&&T>=4||k.opera&&T>=10.5||k.safari&&T>=3.2||k.safari_mobile||k.android}var S=browser.csstransitions;setStyle(m,{width:l?C:x});var B=function(){val(e,t||" ");var n=data(e,"nextCount");data(e,"curCount",!1),data(e,"nextCount",!1),("number"==typeof n||o.str&&"string"==typeof n)&&setTimeout(animateCount.pbind(e,n,o),0)},L=w?{marginTop:l?0:-g}:{marginRight:l?-C:0};S?(getStyle(m,"width"),addClass(m,"counter_css_anim_wrap"),x!=C&&setStyle(m,{width:l?x:C}),w&&setStyle(_,L),setTimeout(B,300)):(x!=C&&animate(m,{width:l?x:C},{duration:100}),w?animate(_,L,{duration:300,transition:Fx.Transitions.easeOutCirc,onComplete:B}):setTimeout(B,300))}}}function boxRefreshCoords(e){var t=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:boxLayerBG.offsetHeight,o=browser.mobile?intval(window.pageYOffset):0;containerSize=getSize(e),e.style.marginTop=Math.max(10,o+(t-containerSize[1])/3)+"px"}function showDoneBox(e,t){t=t||{};var o=(t.w||380)+20,n=t.w?' style="width: '+t.w+'px;"':"",i=bodyNode.offsetWidth,a=ce("div",{className:"top_result_baloon_wrap fixed",innerHTML:'<div class="top_result_baloon"'+n+">"+e+"</div>"},{left:(i-o)/2});bodyNode.insertBefore(a,bodyNode.firstChild),boxRefreshCoords(a);var r=t.out||2e3,s=function(){setTimeout(function(){return t.permit&&!t.permit()?void s():void fadeOut(a.firstChild,500,function(){re(a),t.callback&&t.callback()})},r)};s()}function showGlobalPrg(e,t){var o=getXY(e),n=getSize(e),i=t||{},a=i.w||32,r=i.h||13,s=ge("global_prg");s.className=i.cls||"progress",setStyle(s,{left:o[0]+Math.floor((n[0]-a)/2),top:o[1]+Math.floor((n[1]-r)/2),width:a,height:r,display:"block"}),i.hide&&(e.style.visibility="hidden")}function cssAnim(e,t,o,n){var i=intval(browser.version);if(e&&(browser.chrome&&i>14||browser.mozilla&&i>13||browser.opera&&i>2)){var a,r="all "+o.duration+"ms "+(o.func||"ease-out");e.style.WebkitTransition=r,e.style.MozTransition=r,e.style.OTransition=r,e.style.transition=r;var a=function(){return browser.opera?e.removeEventListener("oTransitionEnd",a):removeEvent(e,"webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",a),e.style.WebkitTransition="",e.style.MozTransition="",e.style.OTransition="",e.style.transition="",n&&n(),!1};n&&(browser.opera?e.addEventListener("oTransitionEnd",a):addEvent(e,"webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",a)),setTimeout(setStyle.pbind(e,t),0)}else animate(e,t,extend(o,{onComplete:n}))}function imagesLoader(e,t){function o(e,t){a[e]&&(--r,delete a[e]),t||obj.processLoad()}function n(t){var o=0,n=t;if(n&&n.offsetParent)do if(o+=n.offsetTop,e&&n.offsetParent===e)break;while(n=n.offsetParent);return o}var i={top_load:0,bottom_load:2,load_limit:10,need_load_class:"__need_load",skip_process_load:!1,use_iframe:!1},a=[],r=0,s=null,l=extend(i,t);return obj={},obj.processLoad=function(){for(var t in a){var i=a[t],c=i[0],d=i[1];(d.width||d.height||vkNow()-c>2e4)&&a[t]&&o.call(d,t,!0)}if(clearTimeout(s),r&&(s=setTimeout(obj.processLoad,500)),!(r>=l.load_limit)){var u=geByClass(l.need_load_class,e||bodyNode),h=[];if(e)var p=e.offsetHeight,f=e.scrollTop-p*l.top_load,g=e.scrollTop+p*l.bottom_load;for(var v=0,b=u.length;v<b&&r<l.load_limit;v++){var d=u[v];if("IMG"==d.tagName){var t=d.getAttribute("data-src");if(t){if(e){var m=n(d),_=m+d.parentNode.offsetHeight;if(m>g)continue;if(_<f)continue}h.push([d,t])}}}each(h,function(){var e=this[0],t=this[1];obj.iloader&&obj.iloader.add(t,o,e),e.src=t,e.removeAttribute("data-src"),removeClass(e,l.need_load_class),a[t]||(++r,a[t]=[vkNow(),e])}),clearTimeout(s),r&&(s=setTimeout(obj.processLoad,500))}},obj.destroy=function(){a=[],r=0,clearTimeout(s)},l.use_iframe&&window.IframeLoader&&(obj.iloader=new IframeLoader),l.skip_process_load||obj.processLoad(),obj}function IframeLoader(){function e(e){try{return e.contentDocument?e.contentDocument:e.contentWindow&&e.contentWindow.document?e.contentWindow.document:e.document}catch(t){}return!1}function t(e){return l&&l.body?'<img id="___img'+e+'" />':'<img class="___img'+e+'" />'}function o(e){return l&&l.body?l.getElementById("___img"+e):geByClass1("___img"+e,c)}function n(){s=utilsNode.appendChild(ce("iframe")),l=e(s),c=l&&l.body?l.body:utilsNode.appendChild(ce("div",{},{display:"none"})),d=0,u=[]}function i(e,n,i){var a=d++;u[a]={src:e,onLoad:n,that:i},c.appendChild(ce("div",{innerHTML:t(a)}));var r=o(a);r.src=e,r.onload=function(){var e=u[a];e&&(e.onLoad&&e.onLoad.call(e.that||window,e.src),delete u[a],c.removeChild(o(a).parentNode))}}function a(){re(s),h=[];for(var e in u)h.push(u[e]);n()}function r(e){if(!h)return[];var t=[];for(var o in h){var n=h[o];i(n.src,n.onLoad,n.that),t.push(n.that)}if(h=null,e){var a=[];each(t,function(){a.push([this,this.src]),this.src="",hide(this)}),setTimeout(function(){each(a,function(){var e=this[0],t=this[1];e.src=t,show(e)})},10)}return t}var s,l,c,d,u,h;return n(),{add:i,abort:a,repeat:r}}window.__debugMode=!0;var parseJSON=window.JSON&&JSON.parse?function(obj){try{return JSON.parse(obj)}catch(e){return topError("<b>parseJSON:</b> "+e.message,{dt:-1,type:5,answer:obj}),eval("("+obj+")")}}:function(obj){return eval("("+obj+")")},cur={destroy:[],nav:[]},_ua=navigator.userAgent.toLowerCase(),browser={version:(_ua.match(/.+(?:me|ox|on|rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],opera:/opera/i.test(_ua),msie:/msie/i.test(_ua)&&!/opera/i.test(_ua),msie6:/msie 6/i.test(_ua)&&!/opera/i.test(_ua),msie7:/msie 7/i.test(_ua)&&!/opera/i.test(_ua),msie8:/msie 8/i.test(_ua)&&!/opera/i.test(_ua),msie9:/msie 9/i.test(_ua)&&!/opera/i.test(_ua),mozilla:/firefox/i.test(_ua),chrome:/chrome/i.test(_ua),safari:!/chrome/i.test(_ua)&&/webkit|safari|khtml/i.test(_ua),iphone:/iphone/i.test(_ua),ipod:/ipod/i.test(_ua),iphone4:/iphone.*OS 4/i.test(_ua),ipod4:/ipod.*OS 4/i.test(_ua),ipad:/ipad/i.test(_ua),safari_mobile:/iphone|ipod|ipad/i.test(_ua),android:/android/i.test(_ua),opera_mobile:/opera mini|opera mobi/i.test(_ua),mobile:/iphone|ipod|ipad|opera mini|opera mobi/i.test(_ua),mac:/mac/i.test(_ua)};window.vk||(window.vk={loginscheme:"http",ip_h:""}),function(){var e=[0,0,0],t="ShockwaveFlash.ShockwaveFlash",o="embed",n='type="application/x-shockwave-flash" ',i=function(e){return e.toString().replace("&","&amp;").replace('"',"&quot;")};if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){var a=navigator.plugins["Shockwave Flash"];if(a&&a.description)for(var r=a.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."),s=0;s<3;++s)e[s]=r[s]||0}else{if(_ua.indexOf("Windows CE")>=0)for(var l=!0,r=6;l;)try{++r,l=new ActiveXObject(t+"."+r),e[0]=r}catch(c){}else try{var l=new ActiveXObject(t+".7");e=l.GetVariable("$version").split(" ")[1].split(",")}catch(c){}o="object",n='classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" '}browser.flashwrap="embed"==o?function(e,t){t=extend({id:e.id,name:e.id,width:e.width,height:e.height,style:e.style,preventhide:e.preventhide},t),browser.flash>=e.version?t.src=e.url:t.src=e.express;var o=[];for(var a in t){var r=t[a];void 0!==r&&null!==r&&o.push(a+'="'+i(r)+'" ')}return"<embed "+n+o.join("")+"/>"}:function(e,t){browser.flash>=e.version?t.movie=e.url:t.movie=e.express;var o={id:e.id,width:e.width,height:e.height,style:e.style,preventhide:e.preventhide},a=[];for(var r in o){var s=o[r];void 0!==s&&null!==s&&a.push(r+'="'+i(s)+'" ')}var l=[];for(var r in t){var s=t[r];void 0!==s&&null!==s&&l.push('<param name="'+r+'" value="'+i(s)+'" />')}return"<object "+n+a.join("")+">"+l.join("")+"</object>"},e[0]<7&&(e=[0,0,0]),browser.flash=intval(e[0]),browser.flashfull={major:browser.flash,minor:intval(e[1]),rev:intval(e[2])}}(),browser.msie6||delete StaticFiles["ie6.css"],browser.msie7||delete StaticFiles["ie7.css"];for(var i in StaticFiles){var f=StaticFiles[i];f.t=i.indexOf(".css")!=-1?"css":"js",f.n=i.replace(/[\\/\\.]/g,"_"),f.l=0,f.c=0}window.locHost=location.host,window.locProtocol=location.protocol,window.__dev=/[a-z0-9_\-]+\.[a-z0-9_\-]+\.[a-z0-9_\-]+\.[a-z0-9_\-]+/i.test(locHost),__dev||(__debugMode=!1),window.locHash=location.hash.replace("#/","").replace("#!",""),window.locDomain=locHost.toString().match(/[a-zA-Z]+\.[a-zA-Z]+\.?$/)[0],window.locBase=location.toString().replace(/#.+$/,""),vk.nodomain||browser.msie6&&document.domain==locDomain||(document.domain=locDomain);var _logTimer=(new Date).getTime();window.cf=function(e){var t=e.createDocumentFragment(),o=e.createElement("div"),n=e.createRange&&e.createRange();return t.appendChild(o),n&&n.selectNodeContents(o),n&&n.createContextualFragment?function(t){return t?n.createContextualFragment(t):e.createDocumentFragment()}:function(t){if(!t)return e.createDocumentFragment();o.innerHTML=t;for(var n=e.createDocumentFragment();o.firstChild;)n.appendChild(o.firstChild);return n}}(document);var hfTimeout=0;Function.prototype.pbind=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(window),this.bind.apply(this,e)},Function.prototype.bind=function(){var e=this,t=Array.prototype.slice.call(arguments),o=t.shift();return function(){var n=Array.prototype.slice.call(arguments);return e.apply(o,t.concat(n))}};var vkExpand="VK"+vkNow(),vkUUID=0,vkCache={},Fx=fx={Transitions:{linear:function(e,t,o,n){return o*e/n+t},sineInOut:function(e,t,o,n){return-o/2*(Math.cos(Math.PI*e/n)-1)+t},halfSine:function(e,t,o,n){return o*Math.sin(Math.PI*(e/n)/2)+t},easeOutBack:function(e,t,o,n){var i=1.70158;return o*((e=e/n-1)*e*((i+1)*e+i)+1)+t},easeInCirc:function(e,t,o,n){return-o*(Math.sqrt(1-(e/=n)*e)-1)+t},easeOutCirc:function(e,t,o,n){return o*Math.sqrt(1-(e=e/n-1)*e)+t},easeInQuint:function(e,t,o,n){return o*(e/=n)*e*e*e*e+t},easeOutQuint:function(e,t,o,n){return o*((e=e/n-1)*e*e*e*e+1)+t}},Attrs:[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity","left","top"]],Timers:[],TimerId:null};Fx.Base=function(e,t,o){this.el=ge(e),this.name=o,this.options=extend({onComplete:function(){},transition:Fx.Transitions.sineInOut,duration:500},t||{})},each({slideDown:genFx("show",1),slideUp:genFx("hide",1),slideToggle:genFx("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){window[e]=function(e,o,n){return animate(e,t,o,n)}}),Fx.Base.prototype={start:function(e,t){function o(e){return n.step(e)}this.from=e,this.to=t,this.time=vkNow(),this.isTweening=!0;var n=this;return o.el=this.el,o()&&Fx.Timers.push(o)&&!Fx.TimerId&&(Fx.TimerId=setInterval(function(){for(var e=Fx.Timers,t=0;t<e.length;t++)e[t]()||e.splice(t--,1);e.length||(clearInterval(Fx.TimerId),Fx.TimerId=null)},13)),this},stop:function(e){for(var t=Fx.Timers,o=t.length-1;o>=0;o--)t[o].el==this.el&&(e&&t[o](!0),t.splice(o,1));this.isTweening=!1},step:function(e){var t=vkNow();if(!e&&t<this.time+this.options.duration){this.cTime=t-this.time,this.now={};for(p in this.to)if(isArray(this.to[p])){var o,n=[];for(o=0;o<3;o++){if(void 0===this.from[p]||void 0===this.to[p])return!1;n.push(Math.min(parseInt(this.compute(this.from[p][o],this.to[p][o])),255))}this.now[p]=n}else this.now[p]=this.compute(this.from[p],this.to[p]);return this.update(),!0}return setTimeout(this.options.onComplete.bind(this,this.el),10),this.now=extend(this.to,this.options.orig),this.update(),this.options.hide&&hide(this.el),this.isTweening=!1,!1},compute:function(e,t){var o=t-e;return this.options.transition(this.cTime,e,o,this.options.duration)},update:function(){for(var e in this.now)isArray(this.now[e])?setStyle(this.el,e,"rgb("+this.now[e].join(",")+")"):void 0!=this.el[e]?this.el[e]=this.now[e]:setStyle(this.el,e,this.now[e])},cur:function(e,t){return null==this.el[e]||this.el.style&&null!=this.el.style[e]?parseFloat(getStyle(this.el,e,t))||0:this.el[e]}},window.__adsLoaded=vkNow();var _postsSeen={},_postsSaved={},_postsSaveTimer,_postsSendTimer,_postsCleanTimer,ls={checkVersion:function(){return!1},set:function(e,t){return!1},get:function(e){return!1},remove:function(e){return!1}},KEY=window.KEY={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32};addEvent(window,"unload",function(){for(var e in vkCache)vkCache[e].handle&&vkCache[e].handle.elem!=window&&removeEvent(vkCache[e].handle.elem)});var layoutWidth=791,stManager={_add:function(e,t){var o=e.replace(/[\/\.]/g,"_");if(t&&t.l&&"css"==t.t){var n=ce("style",{type:"text/css",media:"screen"});headNode.appendChild(n);var i="#"+o+" { display: block; }";n.sheet?n.sheet.insertRule(i,0):n.styleSheet&&(n.styleSheet.cssText=i)}StaticFiles[e]={v:stVersions[e],n:o,l:0,c:0};var a=e+"?"+stVersions[e];if(e.indexOf(".js")!=-1){var r="js/";stTypes.fromLib[e]?r+="lib/":/^lang\d/i.test(e)||stTypes.fromRoot[e]||!e.indexOf("api")||(r+="al/"),headNode.appendChild(ce("script",{type:"text/javascript",src:r+a})),StaticFiles[e].t="js"}else if(e.indexOf(".css")!=-1){var r="css/"+(stTypes.fromRoot[e]?"":"al/");headNode.appendChild(ce("link",{type:"text/css",rel:"stylesheet",href:r+a})),StaticFiles[e].t="css",ge(o)||utilsNode.appendChild(ce("div",{id:o}))}},add:function(e,t){var o=[];document.documentElement;isArray(e)||(e=[e]);for(var n in e){var i=e[n];i.indexOf("?")!=-1&&(i=i.split("?")[0]),/^lang\d/i.test(i)?stVersions[i]=stVersions.lang:stVersions[i]||(stVersions[i]=1);var a=StaticFiles[i];a&&a.v==stVersions[i]||stManager._add(i,a),t&&!StaticFiles[i].l&&o.push(i)}if(t){if(!o.length)return t();var r=function(){var e=[];for(var n in o){var i=o[n];StaticFiles[i].l||"css"!=StaticFiles[i].t||"none"!=getStyle(StaticFiles[i].n,"display")||(stVersions[i]<0&&topMsg('<b>Warning:</b> Something is bad, please <b><a href="/techsupp.php?fid=1&act=t&tid=497998">clear your cache</a></b> and restart your browser.',10),StaticFiles[i].l=1),StaticFiles[i].l||++StaticFiles[i].c>150&&(stVersions[i]<0?(topError("<b>Error:</b> Could not load <b>"+i+"</b>.",3),StaticFiles[i].l=1):(topMsg("Some problems with loading <b>"+i+"</b>...",3),stVersions[i]=irand(-1e4,-1),stManager._add(i,StaticFiles[i]))),StaticFiles[i].l||e.push(i)}return o=e,o.length?setTimeout(arguments.callee,100):void t()};setTimeout(r,1)}},done:function(e){StaticFiles[e].l=1}},ajaxCache={},globalAjaxCache={},ajax={_init:function(){var e=!1;try{if(e=new XMLHttpRequest)return void(ajax._req=function(){return new XMLHttpRequest})}catch(t){}each(["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],function(){try{var t=""+this;if(e=new ActiveXObject(t))return function(e){ajax._req=function(){return new ActiveXObject(e)}}(t),!1}catch(o){}}),ajax._req||location.replace("/badbrowser.php")},_getreq:function(){return ajax._req||ajax._init(),ajax._req()},_frameover:function(){var e=iframeTransport.parentNode;e.innerHTML="",utilsNode.removeChild(e),iframeTransport=!1,ajax.framegot(!1),cur.onFrameBlocksDone&&cur.onFrameBlocksDone()},_receive:function(cont,html,js){if(cont=cont&&ge(cont),cont&&html)for(html=ce("div",{innerHTML:html});html.firstChild;)cont.appendChild(html.firstChild);js&&eval("(function(){"+js+";})()"),ajax._framenext()},framedata:!1,_framenext:function(){if((ajax.framedata||{}).length){var e=ajax.framedata.shift();e===!0?ajax._framenext():e===!1?ajax.framedata=!1:setTimeout(ajax._receive.pbind(e[0],e[1],e[2]),0)}},framegot:function(e,t,o){ajax.framedata&&(ajax.framedata.push(void 0===t&&void 0===o?e:[e,t,o]),1===ajax.framedata.length&&ajax._framenext())},framepost:function(e,t,o){window.iframeTransport&&ajax._frameover(),window.iframeTransport=utilsNode.appendChild(ce("div",{innerHTML:"<iframe></iframe>"})).firstChild,ajax.framedata=[!0],ajax._framedone=o,iframeTransport.src=e+"?"+("string"!=typeof t?ajx2q(t):t)},plainpost:function(e,t,o,n){var i=ajax._getreq(),a="string"!=typeof t?ajx2q(t):t;i.onreadystatechange=function(){4==i.readyState&&(i.status>=200&&i.status<300?o&&o(i.responseText,i):i.status&&n&&n(i.responseText,i))};try{i.open("POST",e,!0)}catch(r){topMsg("<b>Ajax Error:</b> "+r.message)}return i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(a),i},post:function(e,t,o){"/"!=e.substr(0,1)&&(e="/"+e);var n=extend({_captcha:!1,_box:!1},o||{}),i=extend({al:n.frame?-1:1},t);return n.progress&&(n.showProgress||(n.showProgress=show.pbind(n.progress)),n.hideProgress||(n.hideProgress=hide.pbind(n.progress))),ajax._post(e,i,n)},preload:function(e,t,o){"/"!=e.substr(0,1)&&(e="/"+e),ajaxCache[e+"#"+ajx2q(t)]=o},_debugLog:function(e){window._updateDebug=function(){var t=ge("debuglogwrap");t&&(t.innerHTML=e,window._updateDebug=!1)}},_parseRes:function(answer){window._updateDebug=!1;for(var i=0;i<answer.length;++i){var ans=answer[i];if("<!"==ans.substr(0,2)){var from=ans.indexOf(">"),type=ans.substr(2,from-2);switch(ans=ans.substr(from+1),type){case"json":answer[i]=eval("("+ans+")");break;case"int":answer[i]=intval(ans);break;case"float":answer[i]=floatval(ans);break;case"bool":answer[i]=!!intval(ans);break;case"null":answer[i]=null;break;case"debug":ajax._debugLog(ans),answer.pop()}}}},_post:function(url,q,o){!q.captcha_sid&&o.showProgress&&o.showProgress();var cacheKey=!1;if(extend(q,__adsGetAjaxParams(q,o)),o.cache){var boldq=clone(q);delete boldq.al,delete boldq.al_ad,delete boldq.ads_section,delete boldq.captcha_sid,delete boldq.captcha_key,cacheKey=url+"#"+ajx2q(boldq)}var hideBoxes=function(){for(var e=0;e<arguments.length;++e){var t=arguments[e];t&&t.isVisible()&&(t.setOptions({onHide:!1}),t.hide())}return!1},fail=function(e){o.hideProgress&&o.hideProgress(),o._suggest&&cleanElems(o._suggest),o._suggest=o._captcha=o._box=hideBoxes(o._box,o._captcha),isFunction(o.onFail)&&o.onFail(e)||topError(e)},processResponse=function(code,answer){if(!o.cache||o.forceGlobalCache||(code||(ajaxCache[cacheKey]=answer),2!==o.cache)){switch(o.hideProgress&&o.hideProgress(),
o._box=hideBoxes(o._box),o._captcha&&2!=code&&(o._suggest&&cleanElems(o._suggest),o._suggest=o._captcha=hideBoxes(o._captcha)),code){case 1:ge("confirm_mail")?showFastBox({width:430,title:ge("confirm_mail_title").value,onHide:o.onFail},'<div class="confirm_mail">'+ge("confirm_mail").innerHTML+"</div>"):topMsg("<b>Error!</b> Email is not confirmed!");break;case 2:var resend=function(e,t){var n=extend(q,{captcha_sid:e,captcha_key:t}),i=o.cache?extend(o,{cache:-1}):o;ajax._post(url,n,i)},addText="";1!=vk.nophone||vk.nomail||(addText=getLang("global_try_to_activate").replace("{link}",'<a class="phone_validation_link">').replace("{/link}","</a>"),addText='<div class="phone_validation_suggest">'+addText+"</div>"),o._captcha=showCaptchaBox(answer[0],intval(answer[1]),o._captcha,{onSubmit:resend,addText:addText,onHide:function(){o.onFail&&o.onFail()}}),o._captcha&&o._captcha.bodyNode&&(o._suggest=geByClass1("phone_validation_link",o._captcha.bodyNode))&&addEvent(o._suggest,"click",function(){o._box=activateMobileBox({onDone:o._captcha.submit})});break;case 3:var no=o.cache?extend(o,{cache:-1}):o;window.onReLoginDone=ajax._post.pbind(url,q,no),window.onReLoginFailed=function(e){e===-1?location.href=location.href.replace(/^http:/,"https:"):e?nav.go("/"):window.onReLoginDone()};var iframe=ce("iframe",{src:vk.loginscheme+"://login.vk.com/?role=al_frame&_origin="+(locProtocol+"//"+locHost)+"&ip_h="+(answer[0]||vk.ip_h)}),t=0;utilsNode.appendChild(iframe);break;case 4:answer[1]?nav.go(answer[0]):(hab.stop(),location.href=answer[0]);break;case 5:nav.reload({force:intval(answer[0])});break;case 6:var no=o.cache?extend(o,{cache:-1}):o;o._box=activateMobileBox({onDone:ajax._post.pbind(url,q,no),onFail:o.onFail,hash:answer[0]});break;case 7:o.onFail&&o.onFail(),topMsg(answer[0],10);break;case 8:if(o.onFail&&o.onFail(answer[0]))return;topError(answer[0],answer[1]?0:10);break;case 9:o._box=showFastBox(answer[0],answer[1]);var no=extend(clone(o),{showProgress:o._box.showProgress,hideProgress:o._box.hideProgress});o.cache&&(no.cache=-1),o._box=requestBox(o._box,function(){isVisible(o._box.progress)||ajax._post(url,extend(q,{_votes_ok:1}),no)},o.onFail);var f=eval("((function() { return function() { var box = this; "+(answer[2]||"")+" ;}; })())");f.apply(o._box);break;case 10:o._box=showFastBox({title:answer[0]||getLang("global_charged_zone_title"),onHide:o.onFail},answer[1],getLang("global_charged_zone_continue"),function(){var e=extend(q,{charged_confirm:answer[3]});ajax._post(url,e,o)},getLang("global_cancel"));break;case 11:case 12:onBodyResize(!0),show(boxLayerBG),show(boxLayerWrap),cur.box=showFastBox({title:getLang("global_not_activated_title"),dark:1,hideOnBGClick:!0,bodyStyle:"line-height: 160%",onWidgetHide:function(){setTimeout(function(){hide(boxLayerBG),hide(boxLayerWrap)},0)}},getLang("global_mobile_need_validation").replace("{link}",'<br/><a onclick="cur.box.hide();" href="'+vk.loginscheme+'://vk.com/settings?z=validatebox">').replace("{/link}","</a>")),o.onFail.apply();break;default:if(code==-1||code==-2){var adsShowed=answer.pop(),adsCanShow=answer.pop(),adsHtml=answer.pop();__adsSet(adsHtml,null,adsCanShow,adsShowed)}o.onDone&&o.onDone.apply(window,answer)}window._updateDebug&&_updateDebug()}},done=function(e,t){trim(e).length||(t=[8,getLang("global_unknown_error")],e=stVersions.nav+"<!><!>"+vk.lang+"<!>"+stVersions.lang+"<!>8<!>"+t[1]);var n=e.split("<!>"),i=intval(n.shift());if(!i)return fail(e);if(vk.version&&vk.version!=i)return void(i&&n.length>4?nav.reload({force:!0}):nav.strLoc?location.replace(locBase):topError("Server error."));vk.version=!1;var a=n.shift(),r=intval(n.shift()),s=intval(n.shift());o.frame&&(n=t);var l=intval(n.shift());if(vk.lang!=r&&o.canReload)return void nav.reload({force:!0});var c=function(){var e=[];if(a){a=a.split(",");for(var t=0;t<a.length;++t)e.push(a[t])}if(stVersions.lang<s){stVersions.lang=s;for(var t in StaticFiles)/^lang\d/i.test(t)&&e.push(t)}if(!o.frame)try{ajax._parseRes(n)}catch(i){topError("<b>JSON Error:</b> "+i.message)}stManager.add(e,processResponse.pbind(l,n))};return i<=stVersions.nav?c():(headNode.appendChild(ce("script",{type:"text/javascript",src:"/js/loader_nav"+i+"_"+vk.lang+".js"})),void setTimeout(function(){return i<=stVersions.nav?c():void setTimeout(arguments.callee,100)},0))};if(o.cache>0||o.forceGlobalCache){var answer=ajaxCache[cacheKey];if(answer&&!o.forceGlobalCache)return void processResponse(0,answer);if(answer=globalAjaxCache[cacheKey])return void(answer==-1?globalAjaxCache[cacheKey]=o.onDone:o.onDone.apply(window,answer))}return o.frame?ajax.framepost(url,q,done):ajax.plainpost(url,q,done,fail)}};window.hab=new HistoryAndBookmarks({onLocChange:function(e){nav.go("/"+e,void 0,{back:!0})}});var nav={getData:function(e){if(e.length){for(var t in navMap)if("<"!=t[0]){var o=e.match(new RegExp("^"+t,"i"));if(o)return{url:navMap[t][0],files:navMap[t][1]}}var o=e.match(/^[a-z0-9\-_]+\.php$/i);return o?{url:e}:{url:navMap["<other>"][0],files:navMap["<other>"][1]}}return{url:navMap["<void>"][0],files:navMap["<void>"][1]}},reload:function(e){e=e||{},e.force?(hab.stop(),location.href="/"+nav.strLoc):nav.go("/"+nav.strLoc,void 0,extend({nocur:!0},e))},go:function(e,t,o){return;var n,i,a,r,r,r,s,l,c,d,u,h,p},setLoc:function(e){"string"==typeof e?(nav.strLoc=e,nav.objLoc=nav.fromStr(e)):(nav.strLoc=nav.toStr(e),nav.objLoc=e),hab.setLoc(nav.strLoc)},change:function(e,t,o){var n=clone(nav.objLoc);return each(e,function(e,t){t===!1?delete n[e]:n[e]=t}),nav.go(n,t,o)},fromStr:function(e){e=e.split("#");var t=e[0].split("?"),o={0:t[0]||""};return e[1]&&(o["#"]=e[1]),extend(q2ajx(t[1]||""),o)},toStr:function(e){e=clone(e);var t=e["#"]||"",o=e[0]||"";delete e[0],delete e["#"];var n=ajx2q(e);return(n?o+"?"+n:o)+(t?"#"+t:"")},init:function(){nav.strLoc=hab.getLoc(),nav.objLoc=nav.fromStr(nav.strLoc)}};nav.init();var _cookies,_message_box_guid=0,_message_boxes=[],_show_flash_timeout=0,__bq=boxQueue={hideAll:function(){if(__bq.count()){var e=_message_boxes[__bq._boxes.pop()];e._in_queue=!1,e._hide()}for(;__bq.count();){var e=_message_boxes[__bq._boxes.pop()];e._in_queue=!1}},hideLast:function(e,t){if(__bq.count()){var o=_message_boxes[__bq._boxes[__bq.count()-1]];if(e===!0&&(o.changed||__bq.skip))return void(__bq.skip=!1);o.hide()}if(t&&"click"==t.type)return cancelEvent(t)},hideBGClick:function(e){e&&e.target&&/^box_layer/.test(e.target.id)&&__bq.hideLast()},count:function(){return __bq._boxes.length},_show:function(e){var t=_message_boxes[e];if(t&&!t._in_queue){__bq.count()?_message_boxes[__bq._boxes[__bq.count()-1]]._hide(!0,!0):window.tooltips&&tooltips.hideAll(),t._in_queue=!0;var o=!!__bq.count();__bq.curBox=e,t._show(o||__bq.currHiding,o),__bq._boxes.push(e)}},_hide:function(e){var t=_message_boxes[e];if(t&&t._in_queue&&__bq._boxes[__bq.count()-1]==e&&t.isVisible()&&(t._in_queue=!1,__bq._boxes.pop(),t._hide(!!__bq.count()),__bq.count())){var o=__bq._boxes[__bq.count()-1];__bq.curBox=o,_message_boxes[o]._show(!0,!0,!0)}},_boxes:[],curBox:0};__bq.hideLastCheck=__bq.hideLast.pbind(!0),browser.mobile||addEvent(document,"keydown",function(e){if(e.keyCode==KEY.ESC&&__bq.count())return __bq.hideLast(),!1});var radioBtns={};window.onLogout=window.onLoginDone=nav.reload;var _cleanHide=function(e){e.temphide&&(removeEvent(e,"mouseout",e.temphide),removeAttr(e,"temphide"))};try{stManager.done("lite.js")}catch(e){}
//# sourceMappingURL=maps/lite.js.map
